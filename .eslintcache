[{"C:\\Users\\Malte\\social-media-app\\src\\index.js":"1","C:\\Users\\Malte\\social-media-app\\src\\App.js":"2","C:\\Users\\Malte\\social-media-app\\src\\reportWebVitals.js":"3","D:\\Websites\\ReactProjects\\social-media-app\\src\\index.js":"4","D:\\Websites\\ReactProjects\\social-media-app\\src\\reportWebVitals.js":"5","D:\\Websites\\ReactProjects\\social-media-app\\src\\App.js":"6","D:\\Websites\\ReactProjects\\social-media-app\\src\\comps\\LoginForm.js":"7","D:\\Websites\\ReactProjects\\social-media-app\\src\\firebaseConfig.js":"8","D:\\Websites\\ReactProjects\\social-media-app\\src\\comps\\Homepage.js":"9","D:\\Websites\\ReactProjects\\social-media-app\\src\\comps\\Feed.js":"10","D:\\Websites\\ReactProjects\\social-media-app\\src\\comps\\CreatePostModal.js":"11","D:\\Websites\\ReactProjects\\social-media-app\\src\\comps\\Post.js":"12","D:\\Websites\\ReactProjects\\social-media-app\\src\\comps\\Comment.js":"13","D:\\Websites\\ReactProjects\\social-media-app\\src\\comps\\CommentModal.js":"14","D:\\Websites\\ReactProjects\\social-media-app\\src\\comps\\NewCommentForm.js":"15"},{"size":500,"mtime":499162500000,"results":"16","hashOfConfig":"17"},{"size":528,"mtime":499162500000,"results":"18","hashOfConfig":"17"},{"size":362,"mtime":499162500000,"results":"19","hashOfConfig":"17"},{"size":478,"mtime":1607704362268,"results":"20","hashOfConfig":"21"},{"size":362,"mtime":499162500000,"results":"22","hashOfConfig":"21"},{"size":3090,"mtime":1607851605142,"results":"23","hashOfConfig":"21"},{"size":1930,"mtime":1607851052615,"results":"24","hashOfConfig":"21"},{"size":473,"mtime":1607762379329,"results":"25","hashOfConfig":"21"},{"size":2132,"mtime":1607804012790,"results":"26","hashOfConfig":"21"},{"size":866,"mtime":1607848065063,"results":"27","hashOfConfig":"21"},{"size":1027,"mtime":1607849866063,"results":"28","hashOfConfig":"21"},{"size":2379,"mtime":1607851318913,"results":"29","hashOfConfig":"21"},{"size":463,"mtime":1607804343286,"results":"30","hashOfConfig":"21"},{"size":2098,"mtime":1607851803824,"results":"31","hashOfConfig":"21"},{"size":802,"mtime":1607851174025,"results":"32","hashOfConfig":"21"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"4v43qi",{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},"1bkpxwp",{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"41"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"41"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},"C:\\Users\\Malte\\social-media-app\\src\\index.js",[],"C:\\Users\\Malte\\social-media-app\\src\\App.js",[],"C:\\Users\\Malte\\social-media-app\\src\\reportWebVitals.js",[],"D:\\Websites\\ReactProjects\\social-media-app\\src\\index.js",[],["66","67"],"D:\\Websites\\ReactProjects\\social-media-app\\src\\reportWebVitals.js",[],"D:\\Websites\\ReactProjects\\social-media-app\\src\\App.js",["68"],"import React, { useState } from 'react';\nimport './App.css';\nimport firebase from 'firebase';\nimport {firestore} from './firebaseConfig';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nimport LoginForm from './comps/LoginForm.js';\nimport Homepage from './comps/Homepage';\n\nfunction App() {  \n  const [isLoggingIn, setIsLoggingIn] = useState(true);\n  const [hasLoggedIn, setHasLoggedIn] = useState(false);\n  \n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [repeatedPassword, setRepeatedPassword] = useState('');\n\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const usersRef = firestore.collection('users');    \n  const [users] = useCollectionData(usersRef);\n  \n  const submit = (e) => {\n    e.preventDefault();\n\n    if (username === '')\n    {\n      setErrorMessage(\"You have to enter a username!\");\n\n      return;\n    }\n    else if (password === '')\n    {\n      setErrorMessage(\"You have to enter a password!\");\n\n      return;\n    }\n\n    if (isLoggingIn)\n    {\n      if (!userExists(username))\n      {\n        setErrorMessage(\"Couln't find a user with that username!\");\n\n        return;\n      }\n      else if (userExists(username) && getUser(username).password !== password)\n      {\n        setErrorMessage(\"Password is incorrect!\");\n\n        return;\n      }\n      else\n      {\n        setHasLoggedIn(true);\n      }\n    }\n    else if (!isLoggingIn)\n    {\n      if (repeatedPassword === '')\n      {\n        setErrorMessage(\"You have to confirm your password!\");\n\n        return;\n      }\n      else if (repeatedPassword !== password)\n      {\n        setErrorMessage(\"Your confirmed password and password doesn't match!\");\n\n        return;\n      }\n      else if (userExists(username))\n      {\n        setErrorMessage(\"That username is taken!\");\n\n        return;\n      }\n      else\n      {\n        addUserToDatabase();\n\n        reset();\n\n        setIsLoggingIn(true);\n      }\n    }\n  }\n\n  const reset = () => {\n    setErrorMessage(\"\");\n\n    setUsername('');\n    setPassword('');\n    setRepeatedPassword('');\n  }\n\n  const signUp = () => {\n    setIsLoggingIn(false);\n\n    reset();\n  }\n\n  const getUser = (query) => {\n    for (let i = 0; i < users.length; i++)\n    {\n      if (users[i].username === query)\n      {\n        return users[i];\n      }\n    }\n  }\n\n  const userExists = (query) => {\n    let exists = false;\n    \n    users.map(usr => {\n      if (usr.username === query)\n      {\n        exists = true;\n      }\n    });\n\n    return exists;\n  }\n\n  const addUserToDatabase = async() => {\n    await usersRef.add({\n        username: username,\n        password: password,\n        createdAt: firebase.firestore.FieldValue.serverTimestamp()\n    })\n  }\n\n  return (\n    <div className=\"app\">\n      {hasLoggedIn ? <Homepage username={username} setHasLoggedIn={setHasLoggedIn}/> : <LoginForm setUsername={setUsername} setPassword={setPassword} setRepeatedPassword={setRepeatedPassword} submit={submit} isLoggingIn={isLoggingIn} signUp={signUp} errorMessage={errorMessage}/>}\n    </div>\n  );\n}\n\nexport default App;","D:\\Websites\\ReactProjects\\social-media-app\\src\\comps\\LoginForm.js",[],"D:\\Websites\\ReactProjects\\social-media-app\\src\\firebaseConfig.js",[],"D:\\Websites\\ReactProjects\\social-media-app\\src\\comps\\Homepage.js",[],"D:\\Websites\\ReactProjects\\social-media-app\\src\\comps\\Feed.js",[],"D:\\Websites\\ReactProjects\\social-media-app\\src\\comps\\CreatePostModal.js",[],"D:\\Websites\\ReactProjects\\social-media-app\\src\\comps\\Post.js",["69"],"import React, { useState, useEffect } from 'react';\r\nimport firebase from 'firebase';\r\nimport {firestore} from '../firebaseConfig';\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\r\n\r\nfunction Post({post, postsRef, username, isInteractable, setCreatingComment, setInspectedPost}) {\r\n    const [isLiked, setIsLiked] = useState(false); // If the post has been liked by this user\r\n\r\n    const [isShaking, setIsShaking] = useState(false);\r\n\r\n    const [comments] = useCollectionData(firestore.collection('posts').doc(post.id).collection('comments'));\r\n\r\n    useEffect(() => {\r\n        setIsLiked(post.likedBy.includes(username));\r\n    }, [])\r\n\r\n    const like = () => {\r\n        if (!post.likedBy.includes(username)) // Like the post\r\n        {\r\n            postsRef.doc(post.id).update({ \r\n                likedBy: firebase.firestore.FieldValue.arrayUnion(username)\r\n            });\r\n\r\n            setIsLiked(true);\r\n\r\n            setIsShaking(true);\r\n        }\r\n        else // Unlike the post\r\n        {\r\n            postsRef.doc(post.id).update({ \r\n                likedBy: firebase.firestore.FieldValue.arrayRemove(username)\r\n            });\r\n            \r\n            setIsLiked(false);\r\n\r\n            setIsShaking(false);\r\n        }\r\n    }\r\n\r\n    const openComments = () => {\r\n        setCreatingComment(true);\r\n\r\n        setInspectedPost(post);\r\n    }\r\n\r\n    return (\r\n        <div className=\"post\">            \r\n            <div className=\"post-container\">\r\n                <p className=\"post-sender\" style={{ color: post.sender === username ? \"rgb(255, 81, 0)\" : \"rgb(128, 128, 128)\"}}>{post.sender}</p>\r\n                <p className=\"post-text\">{post.text}</p>\r\n            </div>\r\n\r\n            <div className=\"stats-container\" style={{display: isInteractable ? \"flex\" : \"none\"}}>\r\n                <button className={`like-button ${isShaking ? \"shake\" : \"\"}`} onClick={like} style={{ color: isLiked ? \"rgba(255, 0, 0, 1)\" : 'rgba(128, 128, 128, 0.75)' }}><i className=\"fas fa-heart\"></i></button>\r\n                <p className=\"numer-of-likes\">{post.likedBy.length}</p>\r\n\r\n                <button className=\"comments-button\" onClick={openComments}><i className=\"fas fa-comments\"></i></button>\r\n                <p className=\"numer-of-comments\">{comments ? comments.length : 0}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;\r\n","D:\\Websites\\ReactProjects\\social-media-app\\src\\comps\\Comment.js",[],"D:\\Websites\\ReactProjects\\social-media-app\\src\\comps\\CommentModal.js",[],"D:\\Websites\\ReactProjects\\social-media-app\\src\\comps\\NewCommentForm.js",[],{"ruleId":"70","replacedBy":"71"},{"ruleId":"72","replacedBy":"73"},{"ruleId":"74","severity":1,"message":"75","line":115,"column":19,"nodeType":"76","messageId":"77","endLine":115,"endColumn":21},{"ruleId":"78","severity":1,"message":"79","line":15,"column":8,"nodeType":"80","endLine":15,"endColumn":10,"suggestions":"81"},"no-native-reassign",["82"],"no-negated-in-lhs",["83"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'post.likedBy' and 'username'. Either include them or remove the dependency array. If 'setIsLiked' needs the current value of 'post.likedBy', you can also switch to useReducer instead of useState and read 'post.likedBy' in the reducer.","ArrayExpression",["84"],"no-global-assign","no-unsafe-negation",{"desc":"85","fix":"86"},"Update the dependencies array to be: [post.likedBy, username]",{"range":"87","text":"88"},[654,656],"[post.likedBy, username]"]